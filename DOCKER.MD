# VietChain React App - Docker Setup Guide

## ğŸ“‹ YÃªu cáº§u há»‡ thá»‘ng

- **Docker Desktop** (Windows/macOS) hoáº·c **Docker Engine** (Linux)
- **Git** vá»›i SSH key Ä‘Ã£ cáº¥u hÃ¬nh
- **Node.js 18+** (tÃ¹y chá»n, Ä‘á»ƒ development)
- **Yarn** (tÃ¹y chá»n, Ä‘á»ƒ development)

## ğŸ”‘ Chuáº©n bá»‹ SSH Key cho GitHub

### 1. Táº¡o SSH Key (náº¿u chÆ°a cÃ³)
```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
```

### 2. ThÃªm SSH Key vÃ o SSH Agent
```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_ed25519
```

### 3. Copy Public Key vÃ  thÃªm vÃ o GitHub
```bash
cat ~/.ssh/id_ed25519.pub
```
- VÃ o GitHub â†’ Settings â†’ SSH and GPG keys â†’ New SSH key
- Paste public key vÃ  lÆ°u

### 4. Test káº¿t ná»‘i
```bash
ssh -T git@github.com
```

## ğŸ“¦ Clone Repository

```bash
# Clone repository vá»›i SSH
git clone git@github.com:YOUR_USERNAME/VietChain.git
cd VietChain/react
```

## ğŸ“¦ CÃ i Ä‘áº·t Dependencies (Báº¯t buá»™c)

**âš ï¸ Quan trá»ng**: Pháº£i cháº¡y yarn install trÆ°á»›c khi build Docker!

```bash
# CÃ i Ä‘áº·t dependencies
yarn install

# Kiá»ƒm tra cÃ¡c file cáº§n thiáº¿t Ä‘Ã£ Ä‘Æ°á»£c táº¡o
ls -la yarn.lock node_modules/
```

## ğŸ³ Docker Setup

### Kiá»ƒm tra Docker
```bash
docker --version
docker-compose --version
```

### Build Docker Image
```bash
docker build -t vietchain-react-app .
```

### Cháº¡y Container
```bash
# Cháº¡y foreground (xem logs trá»±c tiáº¿p)
docker run -p 4200:4200 vietchain-react-app

# Hoáº·c cháº¡y background
docker run -d -p 4200:4200 --name vietchain-app vietchain-react-app
```

### Truy cáº­p á»©ng dá»¥ng
Má»Ÿ trÃ¬nh duyá»‡t: **http://localhost:4200**

## ğŸ› ï¸ Quáº£n lÃ½ Container

### Xem Container Ä‘ang cháº¡y
```bash
docker ps
```

### Xem logs
```bash
docker logs vietchain-app
docker logs -f vietchain-app  # Follow logs
```

### Dá»«ng vÃ  khá»Ÿi Ä‘á»™ng
```bash
# Dá»«ng container
docker stop vietchain-app

# Khá»Ÿi Ä‘á»™ng láº¡i
docker start vietchain-app

# Restart container
docker restart vietchain-app
```

### XÃ³a container
```bash
docker stop vietchain-app
docker rm vietchain-app
```

## ğŸ”„ Update vÃ  Rebuild

### Cáº­p nháº­t code má»›i
```bash
# Pull latest changes
git pull origin main

# Rebuild Docker image
docker build -t vietchain-react-app .

# Stop old container
docker stop vietchain-app
docker rm vietchain-app

# Run new container
docker run -d -p 4200:4200 --name vietchain-app vietchain-react-app
```

## ğŸš€ Script tá»± Ä‘á»™ng (TÃ¹y chá»n)

Táº¡o file `docker-run.sh`:
```bash
#!/bin/bash
chmod +x docker-run.sh

# Sá»­ dá»¥ng
./docker-run.sh start    # Khá»Ÿi Ä‘á»™ng
./docker-run.sh stop     # Dá»«ng
./docker-run.sh restart  # Khá»Ÿi Ä‘á»™ng láº¡i
./docker-run.sh logs     # Xem logs
./docker-run.sh rebuild  # Build láº¡i vÃ  restart
```

## ğŸ”§ Troubleshooting

### Docker khÃ´ng cháº¡y Ä‘Æ°á»£c
```bash
# Restart Docker service (Linux)
sudo systemctl restart docker

# Hoáº·c restart Docker Desktop (Windows/macOS)
```

### Port 4200 bá»‹ chiáº¿m
```bash
# Kiá»ƒm tra process Ä‘ang dÃ¹ng port
lsof -i :4200  # macOS/Linux
netstat -ano | findstr :4200  # Windows

# Sá»­ dá»¥ng port khÃ¡c
docker run -p 3000:4200 vietchain-react-app
```

### XÃ³a táº¥t cáº£ Docker cache
```bash
docker system prune -a -f
```

### Container khÃ´ng start
```bash
# Xem logs chi tiáº¿t
docker logs vietchain-app

# VÃ o bÃªn trong container Ä‘á»ƒ debug
docker exec -it vietchain-app sh
```

## ğŸ“ Cáº¥u trÃºc Project

```
VietChain/react/
â”œâ”€â”€ Dockerfile              # Docker build instructions
â”œâ”€â”€ docker-compose.yml      # Docker Compose config (optional)
â”œâ”€â”€ nginx.conf              # Nginx server config
â”œâ”€â”€ package.json             # Node.js dependencies
â”œâ”€â”€ yarn.lock               # Yarn lock file
â”œâ”€â”€ src/                    # Source code
â”œâ”€â”€ public/                 # Public assets
â””â”€â”€ dist/                   # Built files (generated)
```

## ğŸŒ Production Deployment

### Sá»­ dá»¥ng Docker Compose
```bash
docker-compose up -d
```

### Cháº¡y vá»›i custom domain
```bash
docker run -d -p 80:4200 --name vietchain-app vietchain-react-app
```

